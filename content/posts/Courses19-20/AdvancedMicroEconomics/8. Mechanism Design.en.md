# 8. Mechanism Design

There are many situations in which some c**entral authority wishes to implement a decision** that depends on the private information of a set of players.

- Government may wish to choose the design of a **public-work project** based on preferences of its citizens who have private information about their preferences.
- **Monopolistic firms** may wish to determine a set of consumers' willingness to pay for different products it can produce with the goal of making as high a profit as possible.
- A seller of an object wants to **design an auction** to maximize her revenue when each bidder's valuation is private information.

**Mechanism design** is a study of what kinds of mechanism that the central authority can devise in order **to reveal the private information of players**. Central authority is the mechanism designer.

## 8.1 Set up

### 8.1.1 Mechanism as Bayesian Games

A set of players $ N=\{1,2, \ldots, n\} $.

A set of **public alternatives** $ X $ that could represent many kinds of alternatives.

- e.g., an alternative $ x \in X $ could represent the attributes of a public good or service, *like investment in education or in preserving the environment*.

The reason that $ X $ is called as public alternatives is the chosen alternative affects all the players in $ N $,

- e.g., in an auction, if one player gets a private good then the consequence is that everyone else does not

Each player $ i $ privately observes his type $ \theta_{i} \in \Theta_{i} $ which determines his preferences.

Let $ \theta=\left(\theta_{1}, \theta_{2}, \ldots, \theta_{n}\right) $ be the **state of the world**.

State $ \theta $ is drawn randomly from the state space
$$
\Theta \equiv \Theta_{1} \times \Theta_{2} \times \cdots \times \Theta_{n}
$$

The draw of $ \theta $ is according to some prior distribution $ \phi(\cdot) $ over $ \Theta $.

$ \theta_{i} $ is player $ i^{\prime} $ s private information; $ \phi(\cdot) $ is common knowledge
knowledge.

### 8.1.2 Players

Each player $ i $ has **quasi-linear preference** 
$$
 v_{i}\left(x, m, \theta_{i}\right)=u_{i}\left(x, \theta_{i}\right)+m_{i} 
$$
Alternatives have a "money-equivalent" value, and preferences are additive in money.

$ m_{i} $ is the amount of money that is given to individual $ i . m_{i} $ can be negative, representing that money is taken away from individual $ i $.

$ u_{i}\left(x, \theta_{i}\right) $ is money-equivalent **value of alternative** $ x \in X $ when $ i $ 's type is $ \theta_{i} $.

An **outcome (alternative+money)** is represented as $ y=\left(x, m_{1}, \ldots, m_{n}\right) $.

### 8.1.3 Mechanism Designer

The mechanism designer has the objective of achieving an outcome that depends on the types of players.

Assume that mechanism designer does not have a source of funds to pay the players (Government rather than firm); i.e. **monetary payments have to be self-financed**, which is $ \sum_{i=1}^{n} m_{i} \leq 0 $.

When $ \sum_{i=1}^{n} m_{i}<0, $ it means that mechanism designer keeps some of the money that he raises from players.

The **set of outcomes** is defined as:
$$
Y=\left\{\left(x, m_{1}, \ldots, m_{n}\right): x \in X, m_{i} \in \mathbb{R}, \forall i \in N, \sum_{i=1}^{n} m_{i} \leq 0\right\}
$$


The mechanism designer's objective is given by a **choice rule/ strategy**:
$$
f(\theta)=\left(x(\theta), m_{1}(\theta), \ldots, m_{n}(\theta)\right)
$$

where $ x(\theta) \in X $ and $ \sum_{i=1}^{n} m_{i} \leq 0 $.

$ x(\theta) $ is the **decision rule** (function); $ \left(m_{1}(\theta), \ldots, m_{n}(\theta)\right) $ is the **transfer rule**.

**Example 1:**

Let $ X=[0, \bar{x}] $ be the size of a water treatment plant.

The plant will benefit some citizens and may displease others.

The citizens are the group of players, $ N $

Player i's **willingness to pay/ utility** from $ x \in X $ of the plant is
$$
u_{i}\left(x, \theta_{i}\right)
$$
The utilitarian mechanism designer **maximizes the sum of the players' valuations** by choosing the value of $ x $. So his decision rule $ x(\theta) $ would maximize $ \sum_{i=1}^{n} u_{i}\left(x, \theta_{i}\right) $

**Example 2:**

A good: a license to use a certain portion of the electromagnetic spectrum for cell coverage.

The license can be allocated to one of a group of cellular carriers $ i \in N $.

$ x_{i} \in\{0,1\} $ indicates whether player $ i $ receives the license
$$
\left(x_{i}=1\right) \text { or not }\left(x_{i}=0\right)
$$
The possible set of alternatives is
$$
X=\left\{\left(x_{1}, \ldots, x_{n}\right)\right\}
$$
such that $ x_{i} \in\{0,1\} $ and $ \sum_{i=1}^{n} x_{i}=1 $.

Player $ i $ 's willingness to pay for the license is $ u_{i}\left(x, \theta_{i}\right)=\theta_{i} x_{i} $.

The mechanism designer maximizes the sum of the players' valuations by choosing $ x $. So his decision rule $ x(\theta) $ would maximize $ \sum_{i=1}^{n} u_{i}\left(x, \theta_{i}\right) $.

## 8.2 The Mechanism Game

The mechanism designer desires to implement a choice rule
$$
f: \Theta \rightarrow Y
$$
The problem is that the mechanism designer's choice rule depends on the unobserved state $ \Theta $.

**Two ways** that the mechanism designer have to solve the problem.

**The first method is to ask each player directly**. But are they willing to share their true preference?

**Example 3 (MWG 23.B.1):** 

Consider an abstract case, where we are given a set of alternatives $ X=\{x, y, z\} $ and two players Suppose that agent 1 has one possible type, so that $ \Theta_{1}=\left\{\bar{\theta}_{1}\right\} $ and that agent 2 has two possible types, so that$ \Theta_{2}=\left\{\theta_{2}^{\prime}, \theta_{2}^{\prime \prime}\right\} $.

The agents' possible preference orderings are given as
$$
\begin{array}{c|ccc} 
& \bar{\theta}_{1} & \theta_{2}^{\prime} & \theta_{2}^{\prime \prime} \\
\hline \text { Best } & x & z & y \\
\text { Middle } & y & y & x \\
\text { Worst } & z & x & z
\end{array}
$$

Suppose that the agents wish to implement the ex post efficient social choice function $ f(\cdot) $ with
$$
f\left(\bar{\theta}_{1}, \theta_{2}^{\prime}\right)=y \quad \text { and } \quad f\left(\bar{\theta}_{1}, \theta_{2}^{\prime \prime}\right)=x
$$
If so, then agent 2 must be relied upon to truthfully reveal his preferences.

It is apparent, however, that he will not find it in his interest to do so. When $ \theta_{2}=\theta_{2}^{\prime \prime}, $ **agent 2 will wish to lie** and claim that his type is $ \theta_{2}^{\prime} $.

In the words of a famous American TV Doctor, "Everyone lies."

Let's look at the alternative way.

**In the second way**, the mechanism designer *designs some clever game that ends up revealing the players' private information*.(like Screening)

The rules of the game endows each player $ i $ with an action set $ A_{i} $.

Following the choice $ a_{i} \in A_{i} $ by each player, there is some **outcome function** $ g\left(a_{1}, \ldots, a_{n}\right) $.

That makes a choice of an outcome $ y \in Y $.

The payoffs of player $ i $ over outcomes is $ v_{i}\left(g(s), \theta_{i}\right) $.

【Definition】A **mechanism**, $ \Gamma=\left\{A_{1}, A_{2}, \ldots, A_{n}, g(\cdot)\right\} $ is a collection of $ n $ action sets $ A_{1}, A_{2}, \ldots, A_{n} $ and an outcome function $ g: A_{1} \times A_{2} \times \cdots \times A_{n} \rightarrow Y $. A pure strategy for player $ i $ in the mechanism $ \Gamma $ is a function that maps types into actions, $ s_{i}: \Theta_{i} \rightarrow A_{i} $. The payoffs of the players are given by $ v_{i}\left(g(s), \theta_{i}\right) $.

## 8.3 Bayesian Implementation

### 8.3.1 Example: FPA as an Allocation Mechanism

MWG Example 23.B.5. Consider an FPA with one seller (player 0) and two bidders (player 1 and 2).

Each bidder with valuation $ \theta_{i} \sim U[0,1] . $ BNE of the auction is $ b_{i}\left(\theta_{i}\right)=\theta_{i} / 2, \forall i $.

The corresponding choice rule $ f(\theta)=\left(x_{0}(\theta), x_{1}(\theta), x_{2}(\theta), m_{0}(\theta), m_{1}(\theta), m_{2}(\theta)\right) $ is
$$
\begin{array}{l}
x_{1}(\theta)=1 \text { if } \theta_{1} \geq \theta_{2} ;=0 \text { if } \theta_{1}<\theta_{2} \\
x_{2}(\theta)=1 \text { if } \theta_{1}<\theta_{2} ;=0 \text { if } \theta_{1} \geq \theta_{2} \\
m_{1}(\theta)=-0.5 \theta_{1} \cdot x_{1}(\theta) \\
m_{2}(\theta)=-0.5 \theta_{2} \cdot x_{2}(\theta) \\
x_{0}(\theta)=0, \forall \theta, m_{0}(\theta)=-\left(m_{1}(\theta)+m_{2}(\theta)\right)
\end{array}
$$

### 8.3.2 Definition

【Definition】The strategy profile $ s^{*}(\cdot)=\left(s_{1}^{*}(\cdot), \ldots, s_{n}^{*}(\cdot)\right) $ is a **Bayesian Nash equilibrium** of the mechanism $ \Gamma=\left\{A_{1}, \ldots, A_{n}, g(\cdot)\right\} $ if for every $ i \in N $ and for every $ \theta_{i} \in \Theta_{i} $
$$
\begin{aligned}
& E_{\theta_{-i}}\left[v_{i}\left(g\left(s_{i}^{*}\left(\theta_{i}\right), s_{-i}^{*}\left(\theta_{-i}\right)\right), \theta_{i}\right) | \theta_{i}\right] \\
\geq & E_{\theta_{-i}}\left[v_{i}\left(g\left(a_{i}^{\prime}, s_{-i}^{*}\left(\theta_{-i}\right)\right), \theta_{i}\right) | \theta_{i}\right] \quad \text { for all } a_{i}^{\prime} \in A_{i}
\end{aligned}
$$
That is, if player $ i $ believes that other players are playing according to $ s_{-i}^{*}(\theta) $ then he maximizes his expected payoff by following the behavior prescribed by $ s_{i}^{*}\left(\theta_{i}\right) $ regardless of which type player $ i $ is.

The mechanism designer designs a mechanism in which $ s_{i}^{*} \rightarrow A_{i} $ such that the outcome is exactly what the mechanism designer desires given each $ \theta_{i} $.
$$
\text { for all } \theta \in \Theta, g\left(s_{1}^{*}\left(\theta_{1}\right), s_{2}^{*}\left(\theta_{2}\right), \ldots, s_{n}^{*}\left(\theta_{n}\right)\right)=f(\theta)
$$
【Definition】A mechanism $ \Gamma $ **implements** the choice rule $ f(\cdot) $ if there exists a Bayesian Nash equilibrium of the mechanism $ \Gamma $
$$
\begin{array}{l}
\left(s_{1}^{*}\left(\theta_{1}\right), s_{2}^{*}\left(\theta_{2}\right), \ldots, s_{n}^{*}\left(\theta_{n}\right)\right), \text { such that } \\
g\left(s_{1}^{*}\left(\theta_{1}\right), s_{2}^{*}\left(\theta_{2}\right), \ldots, s_{n}^{*}\left(\theta_{n}\right)\right)=f(\theta) \text { for all } \theta \in \Theta
\end{array}
$$

That is, it instead implements $ f(\cdot) $ after knowing the true $ \theta $ the mechanism does what the mechanism designer wants to $ \mathrm{do}: g(a(\theta))=f(\theta) $.

It is a **partial implementation** because it requires that the desired outcome be an equilibrium, but allows for other, undersirable equilibrium outcomes as well.

The implementation without "bad equilibria" is called **full implementation**.

![](https://cdn.jsdelivr.net/gh/Henrry-Wu/FigBed/Figs/20200606173531.jpg)

### 8.3.3 The Revelation Principle

The mechanism game is a Bayesian game.

It is useful when the mechanism designer cannot get players to reveal their types.

There is a particular mechanism which is also a Bayesian game in which the mechanism designer **asks players directly to reveal their types in order to implement $ f(\cdot) $.**

The mechanism designer implements $ f(\hat{\theta}), $ with $ \hat{\theta} $ is announced by the players.

【Definition】$ \Gamma=\left\{\Theta_{1}, \ldots, \Theta_{n}, f(\cdot)\right\} $ is a **direct revelation mechanism** for choice rule $ f(\cdot) $ if $ A_{i}=\Theta_{i} $ for all $ i \in N $ and $ g(\theta)=f(\theta) $ for all $ \theta \in \Theta $.

The straightforward direct revelation mechanism will actually have an equilibrium that implements the mechanism designer's intended outcome.???

【Definition】The choice rule $ f(\cdot) $ is **truthfully implementable in Bayesian Nash equilibrium** if for all $ \theta $ the direct revelation mechanism $ \Gamma=\left\{\Theta_{1}, \ldots, \Theta_{l}, f(\cdot)\right\} $ has a Bayesian Nash equilibrium $ s_{i}^{*}\left(\theta_{i}\right)=\theta_{i} $ for all $ i . $ Equivalently, for all $ i $
$$
\begin{aligned}
E_{\theta_{-i}}\left[v_{i}\left(f\left(\theta_{i}, \theta_{-i}\right), \theta_{i}\right) | \theta_{i}\right] & \geq E_{\theta_{-i}}\left[v_{i}\left(f\left(\hat{\theta}_{i}, \theta_{-i}\right), \theta_{i}\right) | \theta_{i}\right] \\
\text { for all } \hat{\theta}_{i} & \in \Theta_{i}
\end{aligned}
$$

That is, $ f(\cdot) $ is truthfully implementable in Bayesian Nash equilibrium if **truthtelling is a Bayesian Nash equilibrium strategy** in the direct revelation mechanism.

- If every player $ i $ believes that all other players are reporting their types truthfully, then player $ i $ is also willing to report truthfully.

【Example 4】$ (\mathrm{MWG} 23 . \mathrm{B} .7): $ Consider a **first-price sealed-bid auction** where two potential buyers have valuations $ \theta_{i} $ that are drawn from a uniform distribution on [0,1].

Recall that the equilibrium bidding function for each player $ i $ is $ b_{i}\left(\theta_{i}\right)=\frac{1}{2} \theta_{i} $.

When facing the direct revelation mechanism $ \Gamma=\left\{\Theta_{1}, \ldots, \Theta_{l}, f(\cdot)\right\} $ (所有人同时报真实底价然后密封，价高者得，且按照报价的一半支付), buyer 1 's optimal announcement $ \hat{\theta}_{1} $, when he has type $ \theta_{1} $ solves
$$
\begin{array}{l}
\max _{\hat{\theta}_{1}}\left(\theta_{1}-\frac{1}{2} \hat{\theta}_{1}\right) \operatorname{Pr}\left(\theta_{2} \leq \hat{\theta}_{1}\right) \\
\quad=\max _{\hat{\theta}_{1}}\left(\theta_{1}-\frac{1}{2} \hat{\theta}_{1}\right) \hat{\theta}_{1}
\end{array}
$$

The first-order condition is
$$
\theta_{1}-\hat{\theta}_{1}=0 \Longrightarrow \hat{\theta}_{1}=\theta_{1}
$$
Hence, truth telling is buyer 1 's **optimal strategy given that buyer 2 always tells the truth**. A similar conclusion follows for buyer 2.

Thus, the social choice function implemented by the first-price sealed-bid auction (in a Bayesian Nash equilibrium) can also be truthfully implemented (in a Bayesian Nash equilibrium) through a direct revelation mechanism!

【Proposition】The **Revelation Principle** for Bayesian Nash Implementation: A choice rule $ f(\cdot) $ is implementable in Bayesian Nash equilibrium if and only if it is truthfully implementable in Bayesian Nash equilibrium.

**Proof:**

**IF part**: By definition, if $ f(\cdot) $ is truthfully implementable in Bayesian Nash equilibrium then it is implementable in Bayesian Nash equilibrium using the direct revelation mechanism.

**ONLY IF part**: Suppose that there exists some mechanism $ \Gamma=\left(A_{1}, \ldots, A_{n}, g(\cdot)\right) $ that implements $ f(\cdot) $ using the equilibrium strategy profile $ s^{*}(\cdot)=\left(s_{1}^{*}(\cdot), \ldots, s_{n}^{*}(\cdot)\right) $ and $ g\left(s^{*}(\cdot)\right)=f(\cdot), $ so that for every $ i \in N $ and $ \theta_{i} \in \Theta_{i} $
$$
\begin{aligned}
& E_{\theta_{-i}}\left[v_{i}\left(g\left(s_{i}^{*}\left(\theta_{i}\right), s_{-i}^{*}\left(\theta_{-i}\right)\right), \theta_{i}\right) | \theta_{i}\right] \\
\geq & E_{\theta_{-i}}\left[v_{i}\left(g\left(a_{i}^{\prime}, s_{-i}^{*}\left(\theta_{-i}\right)\right), \theta_{i}\right) | \theta_{i}\right] \quad \text { for all } a_{i}^{\prime} \in A_{i}
\end{aligned}
$$
which means that no player $ i $ wishes to deviate from $ s_{i}^{*}(\cdot) $.

However, when player $ i $ is asked his type, if he pretends that his type is $ \hat{\theta}_{i} $ rather than $ \theta_{i}, $ then $ a_{i}^{\prime}=s_{i}^{*}\left(\hat{\theta}_{i}\right) $.

Thus
$$
\begin{aligned}
& E_{\theta_{-i}}\left[v_{i}\left(g\left(s_{i}^{*}\left(\theta_{i}\right), s_{-i}^{*}\left(\theta_{-i}\right)\right), \theta_{i}\right) | \theta_{i}\right] \\
\geq & E_{\theta_{-i}}\left[v_{i}\left(g\left(s_{i}^{*}\left(\hat{\theta}_{i}\right), s_{-i}^{*}\left(\theta_{-i}\right)\right), \theta_{i}\right) | \theta_{i}\right] \quad \text { for every } \hat{\theta}_{i} \in \Theta_{i}
\end{aligned}
$$
Because $ g\left(s^{*}(\theta)\right)=f(\theta) $ for all $ \theta \in \Theta $
$$
\begin{aligned}
E_{\theta_{-i}}\left[v_{i}\left(f\left(\theta_{i}, \theta_{-i}\right), \theta_{i}\right) | \theta_{i}\right] & \geq E_{\theta_{-i}}\left[v_{i}\left(f\left(\hat{\theta}_{i}, \theta_{-i}\right), \theta_{i}\right) | \theta_{i}\right] \\
\text { for every } \hat{\theta}_{i} & \in \Theta_{i}
\end{aligned}
$$
This is just the condition for $ f(\cdot) $ to be truthfully implementable in Bayesian Nash equilibrium.

**If the mechanism designer cannot implement $ f(\cdot) $ directly then there is no mechanism in the world that can.**

The designed mechanism and direct revelation mechanism are equivalent.

- In equilibrium the players know that the mechanism implements $ f(\cdot), $ and they choose to stick to it.
- So they announce their types truthfully and have the mechanism designer implement $ f(\cdot) $ directly.

### 8.3.4 BIC and Revenue Equivalence Theorem

**The concept, truthfully implementable in Bayesian Nash Equilibrium is also known as Bayesian Incentive Compatible (BIC).**

Consider a generalized auction mechanism as follows:

- Agent 0 is the seller of an indivisible object from which he derives no values; and agents $ 1, \ldots, n $ are potential buyers.

- Each agent's type (valuation) is generated $ \theta_{i} \in \Theta_{i}=\left[\underline{\theta}_{i}, \bar{\theta}_{i}\right] $ following $ \operatorname{CDF} \Phi_{i}\left(\theta_{i}\right) $, $ \text { with density } \phi_{i}\left(\theta_{i}\right)>0, \forall \theta_{i} \in \Theta_{i} $. 
- Let $ x_{i}(\theta) $ denote buyer $ i $ 's probability of getting the item when the reported types of all bidders are $ \theta=\left(\theta_{1}, \ldots, \theta_{n}\right) $
- Let $ m_{i}(\theta) $ denote bidder $ i $ 's payment in the auction given the reported type profile $ \theta $
- Bidder $ i $ 's utility $ v_{i}\left(x, m_{i}, \theta_{i}\right)=\theta_{i} \cdot x_{i}(\theta)+m_{i}(\theta) $

A type $ \theta_{i} $ buyer $ i $ 's expected transfer if he reports his type to be $ \hat{\theta}_{i} $ and all other buyers truthfully reports their types $ \theta_{-i} $
$$
\bar{m}_{i}\left(\hat{\theta}_{i}\right) \doteq E_{\theta_{-i}}\left[m_{i}\left(\hat{\theta}_{i}, \theta_{-i}\right)\right]
$$
A type $ \theta_{i} $ buyer $ i $ 's probability of receiving the object if he reports his type to be $ \hat{\theta}_{i} $ and all other buyers truthfully reports their types $ \theta_{-i} $
$$
\bar{x}_{i}\left(\hat{\theta}_{i}\right) \doteq E_{\theta_{-i}}\left[x_{i}\left(\hat{\theta}_{i}, \theta_{-i}\right)\right]
$$
A type $ \theta_{i} $ buyer $ i $ 's expected utility if he reports his type to be $ \hat{\theta}_{i} $ and all other buyers truthfully reports their types $ \theta_{-i} $
$$
\begin{aligned}
& E_{\theta_{-i}}\left[v_{i}\left(x(\cdot), m_{i}(\cdot), \hat{\theta}_{i}\right) | \theta_{i}\right] \\
=& E_{\theta_{-i}}\left[\theta_{i} \cdot x_{i}\left(\hat{\theta}_{i}, \theta_{-i}\right)+m_{i}\left(\hat{\theta}_{i}, \theta_{-i}\right)\right] \\
=& \theta_{i} \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right)+\bar{m}_{i}\left(\hat{\theta}_{i}\right)
\end{aligned}
$$
A type $ \theta_{i} $ buyer $ i $ 's expected utility if he truthfully reports his type $ \theta_{i} $
$$
V_{i}\left(\theta_{i}\right)=\theta_{i} \cdot \bar{x}_{i}\left(\theta_{i}\right)+\bar{m}_{i}\left(\theta_{i}\right)
$$

【Proposition】23.D.2 **Necessary and Sufficient Conditions for Bayesian Incentive Compatibility**: The choice rule $ f(\cdot)=\left(x(\cdot), m_{1}(\cdot), \ldots, m_{n}(\cdot)\right) $ is Bayesian Incentive Compatible if and only if, for all $ i=1, \ldots, n, $ the following conditions hold:

1. $ \bar{x}_{i}(\cdot) $ is non-decreasing.
2. For all $ \theta_{i} $ of buyer $ i $

$$
V_{i}\left(\theta_{i}\right)=V_{i}\left(\underline{\theta}_{i}\right)+\int_{\underline{\theta}_{i}}^{\theta_{i}} \bar{x}_{i}(s) d s
$$
**Proof for Necessity** $ " \Rightarrow " $

WLOG, consider $ \hat{\theta}_{i}>\theta_{i} $. Bayesian incentive compatibility (BIC) implies (此时是对同一个买者，$  \theta $是随机变量，可能取到不同的值):
$$
\begin{aligned}
\operatorname{type} \theta_{i} \operatorname{BIC}: V_{i}\left(\theta_{i}\right) & \geq \theta_{i} \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right)+\bar{m}_{i}\left(\hat{\theta}_{i}\right) \\
&=\theta_{i} \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right)+\bar{m}_{i}\left(\hat{\theta}_{i}\right)+\hat{\theta}_{i} \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right)-\hat{\theta}_{i} \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right) \\
&=V_{i}\left(\hat{\theta}_{i}\right)+\left(\theta_{i}-\hat{\theta}_{i}\right) \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right) \\
\operatorname{type} \hat{\theta}_{i} \operatorname{BIC}: V_{i}\left(\hat{\theta}_{i}\right) & \geq V_{i}\left(\theta_{i}\right)+\left(\hat{\theta}_{i}-\theta_{i}\right) \cdot \bar{x}_{i}\left(\theta_{i}\right)
\end{aligned}
$$
Combining the two: 
$$
 \bar{x}_{i}\left(\hat{\theta}_{i}\right) \geq\left(V_{i}\left(\hat{\theta}_{i}\right)-V_{i}\left(\theta_{i}\right)\right) /\left(\hat{\theta}_{i}-\theta_{i}\right) \geq \bar{x}_{i}\left(\theta_{i}\right) 
$$
which implies that $ \bar{x}_{i}(\cdot) $ must be non-decreasing. And when $ \hat{\theta}_{i} \rightarrow \theta_{i}, $ we have $ V_{i}^{\prime}\left(\theta_{i}\right)=\bar{x}_{i}\left(\theta_{i}\right) $ (夹逼定理). Therefore, (对两边积分)
$$
V_{i}\left(\theta_{i}\right)=V_{i}\left(\underline{\theta}_{i}\right)+\int_{\underline{\theta}_{i}}^{\theta_{i}} \bar{x}_{i}(s) d s, \forall \theta_{i}
$$

**Proof for Sufficiency** "$  \Leftarrow  $"

WLOG consider two types $ \theta_{i}>\hat{\theta}_{i} $ of buyer $ i $. If condition (1) and (2) hold,
$$
\begin{array}{c}
V_{i}\left(\theta_{i}\right)-V_{i}\left(\hat{\theta}_{i}\right)=\int_{\hat{\theta}_{i}}^{\theta_{i}} \bar{x}_{i}(s) d s \\
\geq \int_{\hat{\theta}_{i}}^{\theta_{i}} \bar{x}_{i}\left(\hat{\theta}_{i}\right) d s=\left(\theta_{i}-\hat{\theta}_{i}\right) \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right)
\end{array}
$$
which implies $ V_{i}\left(\theta_{i}\right) \geq V_{i}\left(\hat{\theta}_{i}\right)+\left(\theta_{i}-\hat{\theta}_{i}\right) \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right)=\theta_{i} \cdot \bar{x}_{i}\left(\hat{\theta}_{i}\right)+\bar{m}_{i}\left(\hat{\theta}_{i}\right), $ the BIC for type $ \theta_{i} $.

Similarly, starting from $ \frac{\partial}{l_{l}}<\hat{\vartheta}_{i}, $ we will have $ V_{i}\left(\hat{\theta}_{i}\right) \geq V_{i}\left(\theta_{i}\right)+\left(\hat{\theta}_{i}-\theta_{i}\right) \cdot \bar{x}_{i}\left(\theta_{i}\right)=\hat{\theta}_{i} \cdot \bar{x}_{i}\left(\theta_{i}\right)+\bar{m}_{i}\left(\theta_{i}\right), $ the BIC for type $ \hat{\theta}_{i} $.

Therefore, the choice rule $ f(\cdot) $ is Bayesian incentive compatible.

【Proposition】23.10.3 **The Revenue Equivalence Theorem:** Consider an auction setting with n risk-neutral buyers, in which buyer i's valuation is drawn from an interval $ \left[\underline{\theta}_{i}, \bar{\theta}_{i}\right] $ with $ \underline{\theta}_{i} \neq \bar{\theta}_{i} $ and a strictly positive density $ \phi(\cdot)>0 $ and in which buyers' types are independently distributed.

Suppose that a given pair of Bayesian Nash Equilibriua of two different auction procedures are such that $ \forall i $

1. For each possible realization of $ \left(\theta_{1}, \ldots, \theta_{n}\right) $, buyer i has an identical probability of getting the item in the two auctions; i.e. same assignment rule (e.g. FPA & SPA)

$$
\left(x_{1}(\theta), x_{2}(\theta), \ldots, x_{n}(\theta)\right)
$$
2. Buyer i has the same expected utility level in the two auctions when his type is the lowest $ \underline{\theta}_{i} ; $ i.e. same value of $ V_{1}\left(\underline{\theta}_{1}\right), V_{2}\left(\underline{\theta}_{2}\right), \ldots, V_{n}\left(\underline{\theta}_{n}\right) $.

Then **these BNEa of the two auctions generate the same expected revenue for the seller (e.g. indifferent with FPA & SPA)**.

**Proof for Proposition 23.0.3**

By the revelation principle, the choice rule that is implemented by the BNE of an auction must be Bayesian incentive compatible. So we can use the two conditions of Proposition 23.D.2.

NTS: if two BIC choice rule of the two auction procedures have the same probability functions $ \left(x_{1}(\theta), \ldots, x_{n}(\theta)\right) $ and the same expected utility of the lowest type $ \left(V_{1}\left(\underline{\theta}_{1}\right), \ldots, V_{n}\left(\underline{\theta}_{n}\right)\right), $ then these two auction procedures generate the same expected revenue for the seller.

Notice that the seller's expected revenue from an arbitrary BIC mechanism is
$$
\sum_{i=1}^{n} E_{\theta}\left[-m_{i}\left(\theta_{i}\right)\right]
$$

We first calculate $ E\left[-m_{i}\left(\theta_{i}\right)\right] $
$$
E\left[-\bar{m}_{i}\left(\theta_{i}\right)\right]=\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}}-\bar{m}_{i}\left(\theta_{i}\right) \phi_{i}\left(\theta_{i}\right) d \theta_{i}
$$
Since $ V_{i}\left(\theta_{i}\right)=\bar{x}_{i}\left(\theta_{i}\right) \theta_{i}+\bar{m}_{i}\left(\theta_{i}\right), $ then solving for the expected transfer $ \bar{m}_{i}\left(\theta_{i}\right) $, yields $ \bar{m}_{i}\left(\theta_{i}\right)=V_{i}\left(\theta_{i}\right)-\bar{x}_{i}\left(\theta_{i}\right) \theta_{i}, $ and multiplying by -1 on both sides $ -\bar{m}_{i}\left(\theta_{i}\right)=\bar{x}_{i}\left(\theta_{i}\right) \theta_{i}-V_{i}\left(\theta_{i}\right) $, implying that
$$
E\left[-\bar{m}_{i}\left(\theta_{i}\right)\right]=\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}} \underbrace{\left[\bar{x}_{i}\left(\theta_{i}\right) \theta_{i}-V_{i}\left(\theta_{i}\right)\right]}_{-\bar{m}_{i}\left(\theta_{i}\right)} \phi_{i}\left(\theta_{i}\right) d \theta_{i}
$$

Since $ V_{i}\left(\theta_{i}\right)=V_{i}\left(\underline{\theta}_{i}\right)+\int_{\underline{\theta}_{j}}^{\theta_{i}} \bar{x}_{i}(s) d s, $ then $ E\left[-\bar{m}_{i}\left(\theta_{i}\right)\right] $ becomes
$$
E\left[-\bar{m}_{i}\left(\theta_{i}\right)\right]=\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}}
[\bar{x}_{i}\left(\theta_{i}\right) \theta_{i}-\underbrace{V_{i}\left(\underline{\theta}_{i}\right)-\int_{\underline{\theta}_{i}}^{\theta_{i}} \bar{x}_{i}(s) d s}_{V_{i}\left(\theta_{i}\right)} ]\phi_{i}\left(\theta_{i}\right) d \theta_{i}
$$
Taking $ V_{i}\left(\underline{\theta}_{i}\right) $ out of the integral operator, yields
$$
E\left[-\bar{m}_{i}\left(\theta_{i}\right)\right]=\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}}\left[\bar{x}_{i}\left(\theta_{i}\right) \theta_{i}-\int_{\underline{\theta}_{i}}^{\theta_{i}} \bar{x}_{i}(s) d s\right] \phi_{i}\left(\theta_{i}\right) d \theta_{i}-V_{i}\left(\underline{\theta}_{i}\right)
$$
Applying integration by parts we obtain:
$$
\begin{aligned}
\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}} \int_{\underline{\theta}_{i}}^{\theta_{i}} \bar{x}_{i}(s) d s \underbrace{\phi_{i}\left(\theta_{i}\right) d \theta_{i}}_{d \Phi_{i}\left(\theta_{i}\right)} &=\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}} \bar{x}_{i}\left(\theta_{i}\right) d \theta_{i}-\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}} \bar{x}_{i}\left(\theta_{i}\right) \Phi_{i}\left(\theta_{i}\right) d \theta_{i} \\
&=\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}} \bar{x}_{i}\left(\theta_{i}\right)\left(1-\Phi_{i}\left(\theta_{i}\right)\right) d \theta_{i}
\end{aligned}
$$

Substituting this result inside the previous expression yields:
$$
\begin{aligned}
E\left[-\bar{m}_{i}\left(\theta_{i}\right)\right] &=\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}}\left[\bar{x}_{i}\left(\theta_{i}\right) \theta_{i}-\bar{x}_{i}\left(\theta_{i}\right) \frac{1-\Phi_{i}\left(\theta_{i}\right)}{\phi_{i}\left(\theta_{i}\right)}\right] \phi_{i}\left(\theta_{i}\right) d \theta_{i}-V_{i}\left(\underline{\theta}_{i}\right) \\
&=\int_{\underline{\theta}_{i}}^{\bar{\theta}_{i}} \bar{x}_{i}\left(\theta_{i}\right)\left[\theta_{i}-\frac{1-\Phi_{i}\left(\theta_{i}\right)}{\phi_{i}\left(\theta_{i}\right)}\right] \phi_{i}\left(\theta_{i}\right) d \theta_{i}-V_{i}\left(\underline{\theta}_{i}\right)
\end{aligned}
$$
So, the seller's revenue equals to???
$$
\begin{aligned}
\sum_{i=1}^{n} E\left[-\bar{m}_{i}\left(\theta_{i}\right)\right] &=\int_{\underline{\theta}_{1}}^{\bar{\theta}_{1}} \ldots \int_{\underline{\theta}_{n}}^{\bar{\theta}_{n}} \sum_{i=1}^{n} x_{i}\left(\theta_{1}, \ldots, \theta_{n}\right)\left[\theta_{i}-\frac{1-\Phi_{i}\left(\theta_{i}\right)}{\phi_{i}\left(\theta_{i}\right)}\right] \\
& \prod_{i=1}^{n} \phi_{i}\left(\theta_{i}\right) d \theta_{1} \ldots d \theta_{n}-\sum_{i=1}^{n} V_{i}\left(\underline{\theta}_{i}\right)
\end{aligned}
$$
Therefore, if the BNE of two different auction formats have

- the same probabilities $ \left(x_{1}(\theta), x_{2}(\theta), \ldots, x_{n}(\theta)\right) $

- the same values for $ V_{1}\left(\underline{\theta}_{1}\right), V_{2}\left(\underline{\theta}_{2}\right), \ldots, V_{n}\left(\underline{\theta}_{n}\right) $

then we can easily see by the above expression that they will generate the same expected revenue for the seller.

Remark: The FPA and SPA satisfy the conditions in this theorem since:

- The allocation rule in both auctions coincides, i.e., the bidder submitting the highest bid receives the object; and

- The expected utility of the bidder with the lowest valuation, $ V_{i}\left(\underline{\theta}_{i}\right), $ when truthfully reporting his type $ \underline{\theta}_{i}, $ is zero in both auctions.

Hence, the FPA and the SPA generate the same revenue for the seller.

Recall that we showed the Revenue Equivalence Theorem in our study of Auction Theory, but for the specific case of $ \theta_{i} \sim U[0,1] $ for all $ i \in N $.

Now we showed it under more general conditions, as we allowed for $ \theta_{i} \sim\left[\underline{\theta}_{i}, \bar{\theta}_{i}\right] $ where $ \underline{\theta}_{i}<\bar{\theta}_{i} $ and $ \phi_{i}(\cdot)>0 $ for all $ \theta_{i}, $ where types are generated i.i.d. according to $ \phi_{i}(\cdot) $

## 8.4 Dominant Strategy Implementation

### 8.4.1 Example: SPA as an Allocation Mechanism

【Example MWG 23.B.6.】Consider an SPA with one seller (player 0 ) and two bidders (player 1 and 2).

Each bidder with valuation $ \theta_{i} \sim U[0,1] $. Dominant-strategy equilibrium of the auction is $ b_{i}\left(\theta_{i}\right)=\theta_{i}, \forall i$.

The corresponding choice rule $ f(\theta)=\left(x_{0}(\theta), x_{1}(\theta), x_{2}(\theta), m_{0}(\theta), m_{1}(\theta), m_{2}(\theta)\right) $
is
$$
\begin{array}{l}
x_{1}(\theta)=1 \text { if } \theta_{1} \geq \theta_{2} ;=0 \text { if } \theta_{1}<\theta_{2} \\
x_{2}(\theta)=1 \text { if } \theta_{1}<\theta_{2} ;=0 \text { if } \theta_{1} \geq \theta_{2} \\
m_{1}(\theta)=-\theta_{2} \cdot x_{1}(\theta) \\
m_{2}(\theta)=-\theta_{1} \cdot x_{2}(\theta) \\
x_{0}(\theta)=0, \forall \theta, m_{0}(\theta)=-\left(m_{1}(\theta)+m_{2}(\theta)\right)
\end{array}
$$

### 8.4.2 Definition

【Definition】The strategy profile $ s^{*}(\cdot)=\left(s_{1}^{*}(\cdot), \ldots, s_{n}^{*}(\cdot)\right) $ is a **dominant strategy equilibrium** of the mechanism $ \Gamma=\left\{A_{1}, A_{2}, \ldots, A_{n}, g(\cdot)\right\} $ if for every $ i \in N $ and for every $ \theta_{i} \in \Theta_{i} $
$$
v_{i}\left(g\left(s_{i}^{*}(\theta), a_{-i}\right), \theta\right) \geq v_{i}\left(g\left(a_{i}^{\prime}, a_{-i}\right), \theta\right)
$$
for all $ a_{i}^{\prime} \in A_{i} $ and for all $ a_{-i} \in A_{-i} $

Is there a mechanism $ \Gamma $ that implements $ f(\cdot) $ in dominant strategies?

Since a **dominant strategy equilibrium is a special case of a Bayesian equilibrium, the revelation principle applies**.

So we only check that $ f(\cdot) $ is implementable in dominant strategies directly to see if $ f(\cdot) $ is implementable in dominant strategies. That is
$$
v_{i}\left(f\left(\theta_{i}, \theta_{-i}\right), \theta_{i}\right) \geq v_{i}\left(f\left(\hat{\theta}_{i}, \theta_{-i}\right), \theta_{i}\right)
$$
for all $ \hat{\theta}_{i} \in \Theta_{i}, $ and for all $ \theta_{-i} \in \Theta_{-i} $.

Dominant strategy implementation is also known as **dominant strategy incentive compatibility** (DSIC).

Then, DSIC is a more demanding property than BIC, in particular, DSIC requires that players find truthtelling optimal regardless of the specific types of their opponents and their specific strategies in equilibrium.

In contrast, BIC from the previous section only requires truthtelling to be utility maximizing in expectation and given that all other players are truthfully report their types.

### 8.4.3 VicKery-Clarke-Groves Mechanism

Recall that our quasi-linear preferences are additive in money
$$
v_{i}\left(x, m_{i}, \theta_{i}\right)=u_{i}\left(x, \theta_{i}\right)+m_{i}
$$
There is a nice feature of this quasi-linear environment: monetary transfer can benefit the whole group.

Imagine player $ i $ with type $ \theta_{i} $ and player $ j $ with type $ \theta_{j} $ such that
$$
u_{i}\left(x^{\prime}, \theta_{i}\right)>u_{i}\left(x, \theta_{i}\right), u_{j}\left(x, \theta_{j}\right)>u_{j}\left(x^{\prime}, \theta_{j}\right)
$$
Intuitively, player $ i $ would prefer alternative $ x^{\prime} $ and player $ j $ would prefer alternative $ x $.

Furthermore, let
$$
u_{i}\left(x^{\prime}, \theta_{i}\right)-u_{i}\left(x, \theta_{i}\right)>u_{j}\left(x, \theta_{j}\right)-u_{j}\left(x^{\prime}, \theta_{j}\right)
$$
it implies that the gains received by player $ i $ when implementing alternative $ x^{\prime} $ are greater than the gains received by player $ j $ when implementing alternative $ x $.

Then there must be an amount of money $ k>0 $ satisfying
$$
u_{i}\left(x^{\prime}, \theta_{i}\right)-u_{i}\left(x, \theta_{i}\right)>k>u_{j}\left(x, \theta_{j}\right)-u_{j}\left(x^{\prime}, \theta_{j}\right)
$$
This $ k $ is the transfer amount from player $ i $ to $ j $ when implementing $ x^{\prime} . $ (**Coase's Spirit** is back!)

【Proposition】In the quasilinear environment, given a state of the world $ \theta \in \Theta, $ an alternative $ x^{*} \in X $ is Pareto optimal if and only if it is a solution to
$$
\max _{x \in X} \sum_{i=1}^{I} u_{i}\left(x, \theta_{i}\right)
$$
**Proof:** If an alternative a did not maximize this sum, then there was another $ x^{\prime} $ that did. Then money transfers among players that would ensure the gains of some players more than compensate for the losses of others.

【Definition】We call a decision rule $ x^{*}(\cdot) $ the **first-best decision rule** if for all $ \theta \in \Theta, x^{*}(\theta) $ is Pareto optimal.
$$
x^{*}(\theta) \in \arg \max _{x \in X} \sum_{i=1}^{I} u_{i}\left(x, \theta_{i}\right) \forall \theta \in \Theta
$$
When faced with the Pareto optimal choice rule $ \left(x^{*}(\cdot), m_{1}(\cdot), \ldots, m_{n}(\cdot)\right), $ will truth-telling be a dominant strategy for each player in the direct revelation mechanism?

No, when $ m_{i}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right) \equiv 0\left(\hat{\theta}_{i} \text { is announced by player } i\right) . $ The reason is that each player $ i $ only maximizes his own payoff, not the total surplus.

This problem could be solved by having a clever transfer rule $ m_{i}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right) $ to **let player internalize the externality**.

【Definition】Given announcements $ \hat{\theta}, $ the choice rule $ f(\hat{\theta})=\left(x^{*}(\hat{\theta}), m_{1}(\hat{\theta}), \ldots, m_{n}(\hat{\theta})\right) $ is a **Vickrey-Clarke-Groves**
**(VCG) mechanism** if $ x^{*}(\cdot) $ is the **first-best decision rule** and if for all $ i \in N $
$$
m_{i}(\hat{\theta})=\sum_{j \neq i} u_{j}\left(x^{*}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right), \hat{\theta}_{j}\right)+h_{i}\left(\hat{\theta}_{-i}\right)
$$
where $ h_{i}\left(\theta_{-i}\right) $ is an arbitrary function of $ \hat{\theta}_{-i} $.

【Proposition】Any **VCG mechanism is truthfully implementable in dominant strategies**.

**Proof:**

In the VCG mechanism every player i solves
$$
\begin{aligned}
&\max _{\theta_{i} \in \Theta_{i}} u_{i}\left(x^{*}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right), \theta_{i}\right)+m_{i}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right) \\
=&\max _{\theta_{i} \in \Theta_{i}} \underbrace{u_{i}\left(x^{*}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right), \theta_{i}\right)+\sum_{j \neq i} u_{j}\left(x^{*}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right), \hat{\theta}_{j}\right)}_{\text { total surplus }}+h_{i}\left(\hat{\theta}_{-i}\right) 
\end{aligned}
$$
$ h_{i}\left(\hat{\theta}_{-i}\right) $ does not affect $ i^{\prime} s $ choice.

Player $ i $ indeed maximizes total surplus according to his type and others' announced types.

So player $ i $ would tell the truth $ \hat{\theta}_{i}=\theta_{i} $. (by first-best decision rule)

**Alternative way:** 

Or we can prove by contradiction. Suppose truth-telling is not a dominant strategy for some player $ i . $ Then there exist a type $ \theta_{i} $ of this player $ i $ and some others' types $ \theta_{-i} $ such that, when player $ i $ announces his type to be $ \hat{\theta}_{i} $
$$
u_{i}\left(x^{*}\left(\hat{\theta}_{i}, \theta_{-i}\right), \theta_{i}\right)+m_{i}\left(\hat{\theta}_{i}, \theta_{-i}\right)>u_{i}\left(x^{*}\left(\theta_{i}, \theta_{-i}\right), \theta_{i}\right)+m_{i}\left(\theta_{i}, \theta_{-i}\right)
$$
Using the expression of $ m_{i}(\cdot) $ to substitute $ m_{i}\left(\hat{\theta}_{i}, \theta_{-i}\right) $ and $ m_{i}\left(\theta_{i}, \theta_{-i}\right) $
$$
\begin{array}{l}
 & u_{i}\left(x^{*}\left(\hat{\theta}_{i}, \theta_{-i}\right), \theta_{i}\right)+\left[\sum_{j \neq i} u_{j}\left(x^{*}\left(\hat{\theta}_{i}, \theta_{-i}\right), \theta_{j}\right)+h_{i}\left(\theta_{-i}\right)\right]> \\ &
u_{i}\left(x^{*}\left(\theta_{i}, \theta_{-i}\right), \theta_{i}\right)+\left[\sum_{j \neq i} u_{j}\left(x^{*}\left(\theta_{i}, \theta_{-i}\right), \theta_{j}\right)+h_{i}\left(\theta_{-i}\right)\right] \\
\Rightarrow &\sum_{j=1}^{n} u_{j}\left(x^{*}\left(\hat{\theta}_{i}, \theta_{-i}\right), \theta_{j}\right)>\sum_{j=1}^{n} u_{j}\left(x^{*}(\theta), \theta_{j}\right)
\end{array}
$$
which contradict $ x^{*}(\cdot) $ being the first-best decision rule. So the VCG mechanism is truthrully implementable in dominant strategies.

### 8.4.4 Pivotal mechanism

**Pivotal mechanism suggested by Clarke (1971) is a particular VCG mechanism.**

It is obtained by setting
$$
h_{i}\left(\hat{\theta}_{-i}\right)=-\sum_{j \neq i} u_{j}\left(x_{-i}^{*}\left(\hat{\theta}_{-i}\right), \hat{\theta}_{j}\right)
$$
where
$$
x_{-i}^{*}\left(\hat{\theta}_{-i}\right) \in \arg \max _{x \in X} \sum_{j \neq i} u_{j}\left(x, \hat{\theta}_{j}\right)
$$
is **the optimal choice of $ x $ for a society from which player $ i $ was absent**. Thus
$$
m_{i}(\hat{\theta})=\sum_{j \neq i} u_{j}\left(x^{*}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right), \hat{\theta}_{j}\right)-\sum_{j \neq i} u_{j}\left(x_{-i}^{*}\left(\hat{\theta}_{-i}\right), \hat{\theta}_{j}\right)
$$
Pivotal mechanism lets player $ i $ make his announcement that affects the outcome had he not been part of society.

There are relevant cases:

Case $ 1: x^{*}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right)=x_{-i}^{*}\left(\hat{\theta}_{-i}\right) $ where player i's announcement does not change what would have happened if he were not part of society. Then the mechanism specifies a transfer of zero to $ i $.

Case $ 2: x^{*}\left(\hat{\theta}_{i}, \hat{\theta}_{-i}\right) \neq x_{-i}^{*}\left(\hat{\theta}_{-i}\right) $ where player $ i $ is pivotal that
his announcement changes what would have happened without him. **His transfer ends up taxing him for the externality that his announcement imposes on the other players**.

**Returning to Example 2** , where the mechanism designer is trying to determine who to give a license to use a certain portion of the electromagnetic spectrum for cell coverage.

An object can be allocated to one of $ N $ players.

The value of owning the private good for player $ i $ is given by
$ u_{i}\left(x, \theta_{i}\right)=\theta_{i} x_{i} $.

The first-best allocation solves
$$
\max _{\left(x_{1}, \ldots x_{n}\right) \in\{0,1\}^{n}} \sum_{i=1} \theta_{i} x_{i} \text { subject to } \sum_{i} x_{i}=1
$$
Which results in allocating the good to the player $ i^{*} $ with the highest valuation: $ i^{*} \in \arg \max x_i \theta_{i}, $ and
$$
x_{i}^{*}(\theta)=\left\{\begin{array}{cc}
1 & \text { if } i=i^{*} \\
0 & \text { otherwise }
\end{array}\right.
$$
The pivotal mechanism then has transfers
$$
\begin{aligned}
m_{i}(\hat{\theta}) &=\sum_{j \neq i} u_{j}\left(x^{*}(\hat{\theta}), \hat{\theta}_{-i}\right)-\sum_{j \neq i} u_{j}\left(x_{-i}^{*}\left(\hat{\theta}_{-i}\right), \hat{\theta}\right) \\
&=\left\{\begin{array}{cc}
-\left\{\max _{j \neq i^{*}} \hat{\theta}_{j}\right\} 1 & \text { if } i=i^{*} \\
0 & \text { otherwise }
\end{array}\right.
\end{aligned}
$$

That is, every player $ i \neq i^{*} $ is not pivotal and his presence does not affect the allocation. Therefore $ m_{i}(\hat{\theta})=0 $.

Player $ i^{*} $ is pivotal: without him, the object would go to the player with the second-highest valuation. The total surplus would be $ \max _{j \neq i^{*}} \theta_{j} $. This is the externality player $ i $ ' imposes on the others by being present, and how much he has to pay in the pivotal mechanism.

**Notice that this mechanism is identical to the second-price sealed-bid auction.**

【Example】Consider a seller auctioning one item to 5 bidders with valuations
$$
\theta_{1}=20, \theta_{2}=15, \theta_{3}=12, \theta_{4}=10, \theta_{5}=6
$$
A VCG mechanism allocates the item to bidder 1 and bidder 1's transfer is
$$
\begin{aligned}
m_{1}(\theta) &=\underbrace{\sum_{j \neq 1} u_{j}\left(x\left(\theta_{1}, \theta_{-1}\right), \theta_{j}\right)}_{\text {Value of all others when bidder } 1 \text { is here }}-\underbrace{\sum_{j \neq 1} u_{j}\left(x_{-1}\left(\theta_{-1}\right), \theta_{j}\right)}_{\text { Value of all others when bidder 1 not here } } \\
&=\sum_{j=2}^{5} 0-\left(15+\sum_{j=3}^{5} 0\right) \\
&=-15
\end{aligned}
$$
Differences between the two terms is $ -15, $ which is the transfer to (i.e. payment from) bidder 1. Bidder 1 pays 15, which **equals to the second highest valuation (second-price auction)**.

Consider the same 5 bidders with the same valuations as before. Now the seller has three identical items to auction out.

A VCG mechanism allocates the item to bidder $ 1,2,3 . $ The transfer to bidder 1 becomes
$$
\begin{aligned}
m_{1}(\theta) &=\underbrace{\sum_{j \neq 1} u_{j}\left(x\left(\theta_{1}, \theta_{-1}\right), \theta_{j}\right)}_{\text { Value of all others when bidder 1 is here}} - \underbrace{\sum_{j \neq 1} u_{j}\left(x_{-1}\left(\theta_{-1}\right), \theta_{j}\right)}_{\text { Value of all others when bidder 1 not here } } \\
&=(15+12+0+0)-(15+12+10+0) \\
&=-10
\end{aligned}
$$
Differences between the two terms is -10 , which is the transfer to (i.e. payment from) bidder 1. **Bidder 1 pays 10, which equals to the fourth highest valuation (fourth-price auction)**.

**Exercise**: what about $ m_i(\theta), i=2,3,4,5$?

