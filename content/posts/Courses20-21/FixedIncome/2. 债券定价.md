# 2. 债券定价

[Toc]

## 2.1 货币时间价值

### 2.1.1 终值

【终值(Future Value)】：现在投资的任意一笔资金的终值 (Pn) 是:
$$
P_n = P_0(1+r)^n 
$$

- n = 期数
- $ P_n $ = 从现在起n 期后的终值
- $ P_0 $ = 初始本金 
- r = 每期利率 
- $ (1+r)^n $ 表示现在投资的$1在n期后以复利r计算的终值

```
Excel: Pn=P0*(1+r)^n
```

当每年的付息次数超过一次时，用于计算终值的利率和期数作如下调整后，代入上述公式计算即可:

- r = 年利率/ 每年付息的次数
- n = 每年付息的次数*年数

与每年付息相比，每半年付息一次的终值更高，反映将所得利息再投资的机会也更好.

#### 普通年金的终值

【年金】如果定期投资相同金额的资金，则该资金称为年金(annuity). 

- 如果第一笔投资在从现在起一期时发生，则这笔投资称为普通年金(ordinary annuity). 
- 如果立即收到第一笔支付，则这种年金称为**即付年金**(annuity due)

普通年金 终值(Pn) 的计算公式:
$$
P_{n}=A(1+r)^{(n-1)}+A(1+r)^{(n-2)}+\ldots+A=A\left[\frac{(1+r)^{n}-1}{r}\right]
$$

- A = 年金的金额 .
- r = 年利率/ 每年支付利息的次数
- n =每年付息的次数*年数

```
Excel: =FV(rate, nper, pmt, , 0)
其中0表示期末支付/普通年金，1则表示期初支付/即付年金
```

例：使用年利息计算普通年金的终值，如果年金A = $2,000,000, 利率r = 0.08, 并且 n = 15, 则Pn = ?
$$
\begin{aligned}
&P_{n}=A\left[\frac{(1+r)^{n}-1}{r}\right] \\ &P_{\mathrm{n}}=\$ 2,000,000\left[\frac{(1+0.08)^{15}-1}{0.08}\right] 
\end{aligned}
$$

````
Excel: =FV(0.08,15,-2000000, ,0)
````

例：使用半年利息计息普遍年金，如果A = \$ 2,000,000/2 = $1,000,000, r = 0.08/2 = 0.04, and n = 15*2 = 30, 那么 Pn = ?

$$
\begin{aligned} 
&P_{n}=A\left[\frac{(1+r)^{n}-1}{r}\right] \\
& P_{n}=\$ 1,000,000\left[\frac{(1+0.04)^{30}-1}{0.04}\right] 
\end{aligned}
$$

```
Excel: =FV(0.08/2,30,-2000000/2,,0)
```

### 2.1.2 现值

现值(present value)是终值的反向计算，即为了实现特定终值现在必须投资的货市金额:
$$
P_{0}=P_{n} \frac{1}{(1+r)^{n}}
$$

- r = 年利率/ 每年支付利息的次数
- n =每年付息的次数*年数

对于未来特定时间的给定终值，利率(或贴现率)越高，现值越低.
对于给定利率，收到终值的时间离现在越久，现值越低.

系列终值的现值：为了确定一系列终值的现值，必须先计算每个终值的现值；然后，将这些现值加总以获得整个系列终值的现值。
$$
P V=\sum_{i=1}^{n} \frac{P_{t}}{(1+r)^{t}}
$$

#### 普通年金的现值

普通年金的现值,
$$
P V=P_n/(1+r)^n = A\left[\frac{1-1 /(1+r)^{n}}{r}\right]
$$

- A = 年金的金额 (in dollars).
- r = 年利率÷ 每年支付利息的次数
- n =每年付息的次数*年数

```
Excel: =PV(r,n,-A,0,0)
```

例：使用年利息计算普通年金的现值，如果A = $100, r = 0.09, n = 8, 那么PV = ?

$$
\begin{aligned}
& P V=A\left[\frac{1-1 /(1+r)^{n}}{r}\right]\\
& P V=\$ 100\left[\frac{1-1 /(1+0.09)^{8}}{0.09}\right]
\end{aligned}
$$

```
Excel: =PV(0.09,8,-100,0,0)
```

## 2.2 债券定价

确定任何一种金融工具的价格都需要估算：

- 预期现金流
- 适当的必要收益率：必要收益率反映了在风险方法具有可比性(comparable risk)或可以作为替代投资(alternative investments)的金融工具的收益率，作为贴现率

发行人在规定到期日前不可赎回(未付期权)的债券的现金流包括：

- 截至到期日的定期息票利息支付额
- 到期日的票面价值 

为了简化分析，首先作出了以下三个**假设**：

- 每6个月支付一次利息，对于多数美国国内债券而言，实际上是半年支付次利息。
- 下一次支付利息的时间恰好是从现在起6个月后
- 在债券期限内，利率是固定的。

通常，可以用以下公式计算债券价格:
$$
P=\sum_{t=1}^{n} \frac{C}{(1+r)^{t}}+\frac{M}{(1+r)^{n}}
$$

- P = 价格
- n = 期数 (年数乘以2)
- t = 收取利息支付的时期
- C = 半年息票支付额
- r = 期间利率 (必要年收益率除以2)
- M = 到期价值

```
Excel: =PV(r,n,C,M,0)
```

例子：考虑利率为10% 、面值为 \$1,000的20年期债券，假设该债券的必要收益率为 11%。给定C = 0.1\*\$1,000 / 2 = $50, n = 2\*20 = 40 , r = 0.11 / 2 = 0.055, 息票支付额现值 (P) 为:
$$
\begin{aligned} 
&P=C\left[\frac{1-1 /(1+r)^{n}}{r}\right] \\ 
&P=\$ 50\left[\frac{1-1 /(1+0.055)^{40}}{0.055}\right] 
\end{aligned}
$$

面值(到期价值)$1,000的现值:
$$
\left[\frac{M}{(1+r)^{n}}\right]=\left[\frac{\$ 1,000}{(1+0.055)^{40}}\right]=\$ 117.46
$$
债券价格 (P) =息票支付额现值+面值(到期价值)现值 =\$802.31 + \$117.46 = \$919.77.

```
Excel: =PV(0.11/2, 2*20, 0.1*1000/2, 1000,0)
```

#### 零息债券

对于零息债券(zero-coupon bonds), 投资者的收益是通过债券到期价值和购买价格之差实现的. 计算公式是:
$$
\mathrm{P}=\frac{M_{t}}{(1+r)^{n}}
$$
- P = 价格(美元)
- M = 到期价值
- r = 期间利率(必要收益率的一半)
- n =期数 (年数乘以2)


例：考虑从现在起15年到期的零息债券的价格，如果到期价值为\$1,000，必要收益率为 9.4%。给定M = \$1,000, r = 0.094 / 2 = 0.047, n = 2(15) = 30：

$$
p=\frac{M}{(1+r)^{n}}=\frac{\$ 1,000}{(1+0.047)^{30}}=\$ 252.12
$$

## 2.3 债券价格变化规律

### 2.3.1 价格与收益率的关系

债券的一个基本特征是其价格与必要收益率呈反向变动(如图表2-1)。原因是：债券价格是现金流的现值。当必要收益率上升时，现金流的现值减少，债券价格也随之下降；反之则反是。

图表2-1 息票利率为10%的20年债券的价格-收益率关系

| **收益率** | **价格**  **($)** | **收益率** | **价格**  **($)** |
| ---------- | ----------------- | ---------- | ----------------- |
| 0.055      | 1,541.76          | 0.085      | 1,143.08          |
| 0.060      | 1,462.30          | 0.090      | 1,092.01          |
| 0.065      | 1,388.65          | 0.095      | 1,044.41          |
| 0.050      | 1,627.57          | **0.100**  | **1,000.00**      |
| 0.070      | 1,320.33          | 0.110      | $919.77           |
| 0.075      | 1,256.89          | 0.115      | 883.50            |
| 0.080      | 1,197.93          | 0.120      | 849.54            |

如果我们将任意未附期权债券的价格-收益率关系用图形描绘出来，将发现其形状是“弓形” (如图表2-2，类似边际替代率递减)，曲线凸向原点，称之为凸性。

图表2-2 未附期权债券的价格-收益率关系曲线的形状

![](https://cdn.jsdelivr.net/gh/Henrry-Wu/FigBed/Figs/20201113112714.png)

注意，价格-收益率关系曲线与价格轴(即纵轴)相交那点的价格是债券的最高价格，对应于债券未贴现现金流的价值，即所有息票支付额和面值之和。

### 2.3.2 息票利率、必要收益率和价格之间的关系

- 当必要收益率=息票利率，债券售价=面值，称为平价出售
- 当必要收益率>息票利率债券，债券售价<面值，称为折价( discount )出售。
    - 当市场收益率在某个给定时点升到息票利率以上时，债券价格将会进行下降，以使投资者预期购买债券能获得额外利息。
    - 表示由于息票利率低于必要收益率而补偿给新投资者的一种利息.。
- 当必要收益率<息票利率债券，债券售价>面值，称为溢价(premium)出售。

证明：

记息票率为$ Cr = C/M $，则债券价值
$$
PV=\sum_{i=1}^{n} \frac{Cr \times M}{(1+y)^{i}}+\frac{M}{(1+y)^{n}}=C_{r} \times M \times \frac{1-\left(\frac{1}{1+y}\right)^{n}}{y}+\frac{M}{(1+y)^{n}}=\frac{G}{y} M-\left(\frac{C_{r}}{y}-1\right) \frac{M}{(1+y)^{n}}
$$
当$ Cr = y $时，
$$
PV=M-(1-1) \cdot \frac{M}{(1+y)^{n}}=M-0=M
$$
也即债券售价=面值，平价出售。

当$ Cr < y $时，
$$
PV-m=\frac{C_{r}}{y} M-\left(\frac{C_{r}}{y}-1\right) \frac{M}{(1+y)^{n}}-M=\left(\frac{G_{r}}{y}-1\right)\left(M-\frac{M}{(1+y)^{n}}\right)<0
$$
也即债券售价<面值，折价出售。

当$ Cr > y $时，
$$
PV-m=\frac{C_{r}}{y} M-\left(\frac{C_{r}}{y}-1\right) \frac{M}{(1+y)^{n}}-M=\left(\frac{G_{r}}{y}-1\right)\left(M-\frac{M}{(1+y)^{n}}\right)>0
$$
也即债券售价>面值，溢价出售。

### 2.3.3 利率不变时债券价格与时间的关系

- 债券以面值出售，息票利率等于必要收益率. 
    - 当债券临近到期时，债券将继续以面值出售.
    - 当债券接近到期日时，债券价格将保持不变.

- 以溢价或折价出售的债券，债券价格不会保持不变.
    - 假设必要收益率不变，折价债券的价格随着到期日的临近而升高；溢价债券的变动情况恰好相反.
    - 在到期日时，两种债券的价格都等于其面值.

下图显示了息票利率为10%的20年期债券以折价和溢价出售时，其价格随着到期日的临近而变化的路径(用债券定价公式计算)。

| **距离到期日的年数** | 以12%的收益率折价出售的债券价格（美元） | 以7.8%的收益率溢价出售的债券价格（美元） |
| -------------------- | --------------------------------------- | ---------------------------------------- |
| 20.0                 | $   849.54                              | $1,221.00                                |
| 16.0                 | 859.16                                  | 1,199.14                                 |
| 12.0                 | 874.50                                  | 1,169.45                                 |
| 10.0                 | 885.30                                  | 1,150.83                                 |
| 8.0                  | 898.94                                  | 1,129.13                                 |
| 4.0                  | 937.90                                  | 1,074.37                                 |
| 0.0                  | 1,000.00                                | 1,000.00                                 |

### 2.3.4 债券价格变动的原因

- 发行人信用质量的变化导致必要收益率发生变化
- 即使必要收益率不变，但只要债券临近到期，溢价或折价债券的价格就会发生变化
- 可比债券收益率的变化(即市场必要收益率的变化)导致必要收益率发生变化

## 2.4 复杂的定价情况

此前讨论的债券定价框架基于以下简单假设:

- 下一次支付利息恰好在6个月后
- 现金流已知
- 可以确定恰当的必要收益率
- 所有现金流都用同一个贴现率贴现

下面分别放松以上假设：

#### 距离下一次付息时间少于6个月的情况

当投资者购买了距离下一次付息时间少于6个月的债券，计算债券价格的公认方法如下:
$$
p=\sum_{t=1}^{n} \frac{C}{(1+r)^{v}(1+r)^{t-1}}+\frac{M}{(1+r)^{v}(1+r)^{t-1}}
$$
其中：
$$
v=\frac{结算日和下次付息日之间的天数}{6个月期间的天数}
$$
普通债券的定价公式可以看作$ v= 1 $时的特例。

#### 现金流未知的情况

对于未附期权的债券，假设债券发行人没有违约，那么现金流就是已知的。然而，对于多数债券而言，现金流是无法确知的。这是因为债券发行人可能在规定到期日前赎回债券。

可赎回债券的现金流实际上取决于当期利率水平与息票利率之间的对比。当市场利率跌到息票利率以下很多时，债券发行人通常会赎回债券，因为在到期日之前还清债券，并以更低的息票利率发行新债券是合算的。因此，可能在到期之前被提前赎回的债券的现金流取决于市场即期利率。

#### 确定适当的必要收益率

所有必要收益率都是以国债提供的收益率为基准确定的。后续我们需要将债券的必要收益率分解成几个组成部分。

#### 运用不同贴现率对所有现金流贴现

债券可以视为一揽子零息债券的组合，其中每笔现金流都应该用特有的贴现率贴现，从而确定其现值.

## 2.4 浮动利率债券和反向浮动利率债券的定价

浮动利率证券和反向浮动利率证券的现金流都是未知的，它们的现金流取决于未来的参考利率。

### 2.4.1 浮动利率证券的价格 

浮动利率证券( floating-rate security, or floater )的息票利率等于参考利率加上某个利差或价差。

浮动利率证券的价格取决于

- 高于参考利率的价差
- 对重新调整息票利率可能施加的约束：
    - 比如，浮动利率证券可能有最高息票利率，称为利率上限(cap)；
    - 也可能有最低息票利率，称为利率下限(floor).

只要满足下列条件，浮动利率的价格将接近其面值

- 市场要求的高于参考汇率的价差不变
- 息票利率在利率上下限之间浮动，但没有达到上限或下限，

如果市场要求的浮动息票利率高于利率上限，则将以利率上限计算息票，此时债券价格将低于债券面值。

### 2.4.2 反向浮动利率债券的价格

通常，反向浮动利率证券是由固定利率债券派生出来的

- 派生出反向浮动利率证券的证券称为担保品(collateral).
- 根据担保品可以派生出两种证券：浮动利率证券和反向浮动利率证券. 如图表2-4所示。

表2-4 反向浮动利率债券创建

![](https://cdn.jsdelivr.net/gh/Henrry-Wu/FigBed/Figs/20201121110316.png)

浮动利率债券和反向浮动利率债券需要满足以下条件，使担保品产生的现金流足以偿还这两种债券的债务：

- 每期支付给两种债券的总利息小于或等于每期的担保品利息；
- 两种债券的总面值小于或等于担保品的总面值。

例如，考虑一只息票利率为7.5%、半年付息一次的10年期债券。假设将1亿美元的该债券用作担保品，派生出面值为5000万美元的浮动利率债券和面值为5000万美元的反向浮动利率债券。假设每6个月根据下列公式调整一次息票利率：

$$
浮动利率债券的息票利率：参考利率+1\% \\
反向浮动利率債券的息票利率：14\%一参考利率
$$

注意，浮动利率债券和反向浮动利率债券的面值之和等于担保品的面值，1亿美元。两种债券的加权平均息票利率为：

$$
0.5×(参考利率+1\%)+0.5×(14\%一参考利率)=7.5\%
$$

因此，不管参考利率的水平为多少，这两种债券的加权平均息票利率都等于担保品的息票利率，7.5%。

**考虑利率上下限**，假设参考利率高于14%，那么根据该息票利率公式求出的反向浮动利率债券的息票利率将为负值。为了防止发生这种情况，对反向浮动利率债券的息票利率设定了下限。通常，下限被设为0。由于存在下限，因此浮动利率债券的息票利率必定受到限制，因此对这两种债券支付的息票利息不会超过担保品的息票利息。在我们的假设结构下，必须对浮动利率债券设定的最高息票利率为15%。因此，由担保品派生出浮动利率债券和反向浮动利率债券时，对反向浮动利率债券的息票利率设定了下限，对浮动利率债券的息票利率设定了上限。

上限和下限的估值超出了这里的讨论范围。这里指出以下这点就足够了：反向浮动利率债券的价格是通过确定担保品和浮动利率债券的价格得出的，
$$
反向浮动利率债券的价格 = 担保品的价格-浮动利率债券的价格
$$
注意，反向浮动利率债券价格的影响因素受参考利率的影响程度以参考利率对浮动利率债券利率限制的影响程度为限。这是一个十分重要的结论。有些投资者错误地认为，由于息票利率上升，当参考利率下降时，反向浮动利率债券的价格应上升。这是不正确的。反向浮动利率债券定价的关键在于利率变化如何影响担保品的价格。参考利率的重要性取决于参考利率对浮动利率债券息票利率的限制。

原文：The factors that affect the price of an inverse floater are affected by the reference rate only to the extent that it affects the restrictions on the floater’s rate. This is quite an important result. Some investors mistakenly believe that because the coupon rate rises, the price of an inverse floater should increase if the reference rate decreases. This is not true. The key in pricing an inverse floater is how changes in interest rates affect the price of the collateral. The reference rate is important only to the extent that it restricts the coupon rate of the floater. More details are given below.

## 2.5 报价和应计利息

### 2.5.1 报价( Price Quotes )

对债券报价时，交易商是以面值的百分比报价的。

- 以面值出售的债券的报价为100，表示其面值的100%.
- 以折价出售的债券的报价低于100.
- 以溢价出售的债券的价格高于100.

下表显示了如何将报价转换为美元价格。

| **(1)**  **报价(类似百分比)** | **(2)**  **转换为小数形式**   **[= (1)/100]** | **(3)**  **面值**  **（美元）** | **(4)**  **美元价格**  **[= (2) × (3)]** |
| ----------------------------- | --------------------------------------------- | ------------------------------- | ---------------------------------------- |
| 80 1/8                        | 0.8012500                                     | 10,000                          | 8,012.50                                 |
| 76 5/32                       | 0.7615625                                     | 1,000,000                       | 761,562.50                               |
| 86 11/64                      | 0.8617188                                     | 100,000                         | 86,171.88                                |
| 100                           | 1.0000000                                     | 50,000                          | 50,000.00                                |
| 109                           | 1.0900000                                     | 1,000                           | 1,090.00                                 |
| 103 3/4                       | 1.0375000                                     | 100,000                         | 103,750.00                               |
| 105 3/8                       | 1.0537500                                     | 25,000                          | 26,343.75                                |

### 2.5.2 应计利息

当投资者在两个付息日之间购买债券时，投资者必须向债券出售者补偿从上一次付息到债券结算日之间应获得的利息，这部分利息称为**应计利息**(accrued interest)。对公司债券和市政债券来说，应计利息以每年360天、每月30天为标准计算.

- 全价( full price )或脏价(dirty price)是买方向卖方支付的金额，即协议价格加上应计利息。
- 净价(clean price)，不含应计利息的债券价格。